name: Teste

on: 
  workflow_dispatch:
  pull_request:


jobs:
  # usando_curl:
  #   uses: backuplinux-sudo/reutilizaveis/.github/workflows/acesso.yaml@main
  #   with:
  #     site: ${{ inputs.site }}
  #   secrets: inherit
  
  outputs:
    env:
      prefixos_branch: ("bug-" "projeto-")
    runs-on: ubuntu-latest
    steps:
      - run: |
          echo "ref=${{ github.ref }}"
          echo "base_ref=${{ github.base_ref }}"
          echo "head_ref=${{ github.head_ref }}"
          echo "ref_name=${{ github.ref_name }}"

          for prefixo in "${prefixos_branch[@]}"; do
            if [[ "${{ github.head_ref }}" == "${prefixo}" ]]; then
              echo "A branch tem o prefixo válido: ${prefixo}"
            else
              echo "A branch não possui o prefixo válido: ${prefixo}"
            fi
          done