name: Teste

on: 
  workflow_dispatch:
  pull_request:


jobs:
  # usando_curl:
  #   uses: backuplinux-sudo/reutilizaveis/.github/workflows/acesso.yaml@main
  #   with:
  #     site: ${{ inputs.site }}
  #   secrets: inherit
  
  outputs:
    runs-on: ubuntu-latest
    steps:
      - run: |
          echo "ref=${{ github.ref }}"
          echo "base_ref=${{ github.base_ref }}"
          echo "head_ref=${{ github.head_ref }}"
          echo "ref_name=${{ github.ref_name }}"

          nome_branch="${{ github.head_ref }}"

          prefixos_branch=("bug-" "projeto-")
          for prefixo in "${prefixos_branch[@]}"; do
            echo "Verificando o prefixo: ${prefixo}"
            echo "prefixos_branch=${prefixos_branch[@]}"

            if [[ "${nome_branch}" == "${prefixo}" ]]; then
              echo "A branch tem o prefixo válido: ${prefixo}"
            else
              echo "A branch não possui o prefixo válido: ${prefixo}"
            fi
          done